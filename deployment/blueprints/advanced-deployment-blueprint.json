{
  "name": "Advanced Deployment Features",
  "version": "1.0.0",
  "description": "Blue-green deployments and canary release strategies for web and mobile applications",
  "platforms": {
    "web": {
      "provider": "Vercel",
      "features": {
        "blue_green": {
          "description": "Zero-downtime deployment switching between blue and green environments",
          "environments": ["blue", "green"],
          "switch_script": "deployment/scripts/blue-green-switch.sh",
          "health_checks": ["api/health", "database_connection", "cdn_status"],
          "rollback_time": "< 30 seconds"
        },
        "canary": {
          "description": "Gradual rollout to percentage of users with automatic rollback on errors",
          "traffic_splitting": "header-based or cookie-based",
          "monitoring_metrics": ["error_rate", "response_time", "conversion_rate"],
          "auto_rollback_thresholds": {
            "error_rate": 5,
            "response_time_p95": 2000,
            "uptime": 99.5
          },
          "deploy_script": "deployment/scripts/canary-deploy.sh",
          "promote_script": "deployment/scripts/promote-canary.sh"
        }
      },
      "environments": {
        "development": {
          "url": "https://dev.smart-cms.vercel.app",
          "branch": "develop"
        },
        "staging": {
          "url": "https://staging.smart-cms.vercel.app",
          "branch": "main"
        },
        "production": {
          "url": "https://smart-cms.vercel.app",
          "branch": "main"
        }
      }
    },
    "mobile": {
      "provider": "Expo (EAS)",
      "features": {
        "blue_green": {
          "description": "Environment switching via release channels with OTA updates",
          "channels": ["blue", "green"],
          "switch_script": "deployment/scripts/mobile-switch.sh",
          "update_mechanism": "expo-updates"
        },
        "canary": {
          "description": "Staged rollout through app stores with gradual user exposure",
          "store_rollout": "Google Play internal track, TestFlight",
          "max_rollout_percentage": 50,
          "monitoring": ["crash_reports", "user_feedback", "performance_metrics"],
          "deploy_script": "deployment/scripts/mobile-deploy.sh"
        }
      },
      "release_channels": {
        "development": "dev",
        "canary": "canary",
        "blue": "blue",
        "green": "green",
        "production": "production"
      }
    }
  },
  "monitoring": {
    "tools": ["Vercel Analytics", "Expo Dashboard", "Sentry", "DataDog"],
    "alerts": {
      "error_rate_spike": "Error rate > 5% for 5 minutes",
      "response_time_degradation": "P95 response time > 2s for 10 minutes",
      "deployment_failure": "Any deployment fails",
      "rollback_triggered": "Automatic rollback executed"
    },
    "dashboards": {
      "deployment_status": "Real-time deployment status across platforms",
      "performance_metrics": "Response times, error rates, uptime",
      "user_impact": "A/B test results, conversion tracking"
    }
  },
  "rollback": {
    "strategies": {
      "automatic": "Triggered by health check failures",
      "manual": "Via CLI commands or dashboard",
      "gradual": "Traffic shift back to previous version"
    },
    "time_to_rollback": "< 5 minutes",
    "data_integrity": "Database migrations are reversible"
  },
  "security": {
    "secrets_management": "Environment variables, Vercel secrets, EAS secrets",
    "access_control": "Role-based access to deployment commands",
    "audit_logging": "All deployment actions logged with timestamps"
  },
  "ci_cd": {
    "pipeline": ["lint", "test", "build", "deploy", "monitor", "rollback"],
    "triggers": ["push to main", "pull request", "manual", "scheduled"],
    "environments": ["dev", "staging", "canary", "production"]
  }
}